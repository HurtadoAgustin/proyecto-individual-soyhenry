(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{52:function(e,t,n){},59:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n.n(c),r=n(25),i=n.n(r),s=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,76)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))},o=n(12),l=n(7),u=n(6),j=(n(52),n(0));var d=function(){return Object(j.jsx)("main",{className:"landing--background",children:Object(j.jsx)(o.b,{to:"/home",children:Object(j.jsx)("button",{className:"landing--button",children:Object(j.jsx)("span",{children:"Start the Journey!"})})})})};n(59);var b=function(e){var t=e.title,n=e.path,c=e.link,a=e.color;return Object(j.jsxs)("header",{className:"header header--".concat(a),children:[Object(j.jsx)(o.b,{to:"/",children:Object(j.jsx)("button",{className:"header--link header--link__".concat(a),children:Object(j.jsx)("span",{children:"Go Landing"})})}),Object(j.jsxs)("div",{className:"header--middle",children:[Object(j.jsx)("h1",{children:t}),e.children]}),Object(j.jsx)(o.b,{to:n,children:Object(j.jsx)("button",{className:"header--link header--link__".concat(a),children:Object(j.jsx)("span",{children:c})})})]})},O=n(15),f=n(16),h=n(24),m="http://localhost:3001",p=["summer","autumn","winter","spring"],x="GET_ALL_COUNTRIES",v="GET_COUNTRIES_BY_NAME",y="GET_COUNTRY",g="CLEAR_COUNTRY",N="SAVE_FILTERS",_="POST_ACTIVITY",C="SAVE_ERROR",A="CLEAR_ERROR",E=function(){return function(e){return Object(h.a)("".concat(m,"/countries")).then((function(e){return e.data})).then((function(t){return e({type:x,payload:t})})).catch((function(t){return e({type:C,payload:t.message})}))}},S=function(e){return{type:N,payload:e}};n(65);var k=function(e){var t=e.id,n=e.name,c=e.flag,a=e.continent;return Object(j.jsxs)(o.b,{to:"/country/".concat(t),className:"country-card--link",children:[Object(j.jsx)("img",{className:"country-card--img",src:c,alt:"country flag"}),Object(j.jsx)("h3",{className:"\r country-card--text\r country-card--text__continent\r ",children:a}),Object(j.jsx)("h2",{className:"\r country-card--text\r country-card--text__name\r ",children:n})]})};n(66);var R=function(e){var t=e.type,n=e.message;return Object(j.jsx)("span",{className:"error-handler--".concat(t),children:n})};var T=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.countries})),n=Object(l.c)((function(e){return e.filters})),a=Object(l.c)((function(e){return e.error})),r=Object(c.useState)([]),i=Object(f.a)(r,2),s=i[0],o=i[1];return Object(c.useEffect)((function(){var t;e({type:A}),e(n.text?(t=n.text,function(e){return Object(h.a)("".concat(m,"/countries?name=").concat(t)).then((function(e){return e.data})).then((function(t){return e({type:v,payload:t})})).catch((function(t){return e({type:C,payload:t.message})}))}):E())}),[e,n]),Object(c.useEffect)((function(){var e=Object(O.a)(t);if(e.length){e=n.typeAlpha?e.sort((function(e,t){return e.name.toUpperCase()>t.name.toUpperCase()?1:-1})):e.sort((function(e,t){return e.population-t.population})),n.sortAsc||(e=e.reverse()),n.continent&&(e=e.filter((function(e){return e.continent===n.continent})));for(var c=0===n.page?9:10,a=[],r=0;r<c;r++){var i=c*n.page+r;e[i]&&a.push(e[i])}a.length&&o(a)}}),[t,n]),Object(j.jsx)(j.Fragment,{children:a?Object(j.jsx)(R,{type:"grey",message:a}):null===s||void 0===s?void 0:s.map((function(e){return Object(j.jsx)(k,{id:e.id,name:e.name,flag:e.flag,continent:e.continent},e.id)}))})},w=n(19),F=n(3),D={allCountries:[],countries:[],country:{},filters:{},continents:[],error:""},L={page:0,text:"",sortAsc:!1,typeAlpha:!1,continent:"",activity:{}},U={name:"",difficulty:0,duration:0,season:"",countries:[]};n(67);var I=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.continents})),n=Object(l.c)((function(e){return e.filters})),a=Object(c.useState)(L),r=Object(f.a)(a,2),i=r[0],s=r[1];Object(c.useEffect)((function(){e(S(i))}),[e,i]);var o=function(e){return s(Object(F.a)(Object(F.a)({},n),{},Object(w.a)({},e.target.name,e.target.value)))},u=function(e){return s(Object(F.a)(Object(F.a)({},n),{},Object(w.a)({},e.target.name,!i[e.target.name])))};return Object(j.jsxs)("div",{className:"list-filters",children:[Object(j.jsx)("input",{className:"list-filters--searcher",name:"text",type:"search",value:i.text,onChange:o,autoComplete:"off"}),Object(j.jsxs)("div",{className:"list-filters--button__container",children:[Object(j.jsxs)("div",{className:"list-filters--button",children:[Object(j.jsx)("span",{children:"Order:"}),Object(j.jsx)("button",{name:"sortAsc",onClick:u,children:i.sortAsc?"Ascending":"Descending"})]}),Object(j.jsxs)("div",{className:"list-filters--button",children:[Object(j.jsx)("span",{children:"Sort by:"}),Object(j.jsx)("button",{name:"typeAlpha",onClick:u,children:i.typeAlpha?"Alphabetical":"Population"})]}),Object(j.jsxs)("div",{className:"list-filters--button",children:[Object(j.jsx)("span",{children:"Filter by:"}),Object(j.jsxs)("select",{name:"continent",value:i.continent,onChange:o,children:[Object(j.jsx)("option",{value:"",children:"All Continents"}),null===t||void 0===t?void 0:t.map((function(e,t){return Object(j.jsx)("option",{className:"list-filters--continents__item",value:e,children:e},t)}))]})]})]})]})};n(68);var G=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.filters})),n=Object(c.useState)(L),a=Object(f.a)(n,2),r=a[0],i=a[1];return Object(c.useEffect)((function(){e(S(r)),window.scrollTo(0,0)}),[e,r]),Object(j.jsxs)("div",{className:"counter",children:[Object(j.jsx)("button",{className:"\r counter--items\r counter--items__button\r ",onClick:function(){r.page>0&&i(Object(F.a)(Object(F.a)({},t),{},{page:r.page-1}))},children:"-"}),Object(j.jsx)("div",{className:"\r counter--items\r counter--items__number\r ",children:r.page}),Object(j.jsx)("button",{className:"\r counter--items\r counter--items__button\r ",onClick:function(){return i(Object(F.a)(Object(F.a)({},t),{},{page:r.page+1}))},children:"+"})]})};n(69);var P=function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(b,{title:"Country Searcher",link:"Create Activity!",path:"/create",color:"orange",children:Object(j.jsx)(I,{})}),Object(j.jsx)("main",{className:"home--main",children:Object(j.jsx)(T,{})}),Object(j.jsx)("footer",{className:"home--footer",children:Object(j.jsx)(G,{})})]})};n(70);var Y=function(e){var t,n=e.idCountry,a=Object(l.b)(),r=Object(l.c)((function(e){return e.country}));return Object(c.useEffect)((function(){return a(function(e){return function(t){return Object(h.a)("".concat(m,"/countries/").concat(e)).then((function(e){return e.data})).then((function(e){return t({type:y,payload:e[0]})})).catch((function(e){return t({type:C,payload:e.message})}))}}(n)),function(){a({type:g})}}),[a,n]),Object(j.jsxs)("div",{className:"card-detail--container",children:[Object(j.jsx)("img",{className:"card-detail--flag",src:r.flag,alt:"country flag"}),Object(j.jsxs)("div",{className:"card-detail--info",children:[Object(j.jsxs)("div",{className:"card-detail--info__info",children:[Object(j.jsxs)("h2",{children:[r.name," ",Object(j.jsxs)("i",{children:["(",r.id,")"]})]}),Object(j.jsxs)("h3",{children:["- ",r.capital," -"]}),Object(j.jsxs)("span",{children:["Continent: ",r.continent]}),Object(j.jsxs)("span",{children:["Subregion: ",r.subregion]}),Object(j.jsxs)("span",{children:["Area: ",r.area," m2"]}),Object(j.jsxs)("span",{children:["Population: ",r.population," people"]})]}),Object(j.jsx)("div",{className:"card-detail--info__activities-container",children:null!==(t=r.Activities)&&void 0!==t&&t.length?r.Activities.map((function(e){return Object(j.jsxs)("div",{className:"card-detail--info__activities-item",children:[Object(j.jsx)("h3",{children:e.name}),Object(j.jsxs)("span",{children:["Duration: ",e.duration,"m"]}),Object(j.jsxs)("span",{children:["Difficulty: ",e.difficulty]}),Object(j.jsxs)("span",{children:["Season: ",e.season]})]})})):Object(j.jsx)("div",{className:"card-detail--info__activities-link",children:Object(j.jsx)(o.b,{to:"/create",children:"Add a new Activity!"})})})]})]})};n(71);var B=function(e){var t=e.match.params.idCountry;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(b,{title:"Country Detail",link:"Go Home",path:"/home",color:"orange"}),Object(j.jsx)("main",{className:"detail--main",children:Object(j.jsx)(Y,{idCountry:t})})]})};n(72);var J=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.allCountries})),n=Object(c.useRef)(""),a=Object(c.useState)(""),r=Object(f.a)(a,2),i=r[0],s=r[1],o=Object(c.useState)(U),u=Object(f.a)(o,2),d=u[0],b=u[1],x=Object(c.useState)([]),v=Object(f.a)(x,2),y=v[0],g=v[1];Object(c.useEffect)((function(){e(E())}),[e]);var N=function(e){b(Object(F.a)(Object(F.a)({},d),{},Object(w.a)({},e.target.name,e.target.value))),s("")},A=function(e){console.log(e.target);var t=Object(O.a)(d.countries).filter((function(t){return t!==e.target.id}));b(Object(F.a)(Object(F.a)({},d),{},{countries:t})),g(Object(O.a)(y).filter((function(t){return t.id!==e.target.id})))},S=function(){b(U),g([]),n.current.value="",s("")};return Object(j.jsxs)("form",{id:"form",onSubmit:function(t){for(var n in t.preventDefault(),d)if(!d[n]||"0"===d[n])return s("Error: ".concat(n," needed."));return d.countries.length<1?s("Error: one country at least is needed."):d.name.length<3?s("Error: name of activity too short."):(e((c=d,function(e){return h.a.post("".concat(m,"/activities"),c).then((function(e){return e.data})).then((function(t){return e({type:_,payload:t})})).catch((function(t){return e({type:C,payload:t.message})}))})),void S());var c},children:[Object(j.jsxs)("div",{className:"form--container",children:[Object(j.jsxs)("div",{className:"form--field",children:[Object(j.jsx)("label",{children:"Name: "}),Object(j.jsx)("input",{className:"form--input",name:"name",type:"text",value:d.name,onChange:N,autoComplete:"off"})]}),Object(j.jsxs)("div",{className:"form--field",children:[Object(j.jsx)("label",{children:"Difficulty: "}),Object(j.jsx)("input",{className:"form--field__range",name:"difficulty",type:"range",min:0,max:5,step:1,value:d.difficulty,onChange:N}),Object(j.jsx)("span",{children:d.difficulty})]}),Object(j.jsxs)("div",{className:"form--field",children:[Object(j.jsx)("label",{children:"Duration: "}),Object(j.jsx)("input",{className:"form--field__range",name:"duration",type:"range",min:0,max:1440,step:15,value:d.duration,onChange:N}),Object(j.jsxs)("span",{children:[d.duration," minutos"]})]}),Object(j.jsxs)("div",{className:"form--field",children:[Object(j.jsx)("label",{children:"Season: "}),Object(j.jsxs)("select",{className:"form--field__season",name:"season",value:d.season,onChange:N,children:[Object(j.jsx)("option",{value:""}),null===p||void 0===p?void 0:p.map((function(e,t){return Object(j.jsx)("option",{value:e,children:e},t)}))]})]}),Object(j.jsxs)("div",{className:"form--field",children:[Object(j.jsx)("label",{children:"Countries: "}),Object(j.jsx)("input",{list:"opts",ref:n}),Object(j.jsx)("datalist",{id:"opts",children:null===t||void 0===t?void 0:t.map((function(e){return Object(j.jsx)("option",{value:e.name,children:e.id},e.id)}))}),Object(j.jsx)("button",{type:"button",onClick:function(){if(!t.length)return s("Error: please wait a second to call to the database");var e=n.current.value.toUpperCase(),c=t.find((function(t){var n=t.name.toUpperCase();return t.id===e||n===e}));return c?Object(O.a)(d.countries).find((function(e){return e===c.id}))?s("Error: country is already added."):(b(Object(F.a)(Object(F.a)({},d),{},{countries:[].concat(Object(O.a)(d.countries),[c.id])})),g([].concat(Object(O.a)(y),[{id:c.id,flag:c.flag}])),n.current.value="",void s("")):s("Error: write a real country.")},children:"Add Country"})]}),Object(j.jsxs)("div",{className:"form--field form--field__options",children:[Object(j.jsx)("button",{type:"submit",children:"Create"}),Object(j.jsx)("button",{type:"button",onClick:S,children:"Reset"}),i&&Object(j.jsx)("span",{children:i})]})]}),Object(j.jsxs)("div",{className:"form--field__country-list",children:[Object(j.jsx)("span",{children:"Countries Selected:"}),Object(j.jsx)("div",{className:"country-list--container",children:Object(O.a)(y).map((function(e){return Object(j.jsxs)("div",{children:[Object(j.jsx)("img",{src:e.flag,alt:"country selected"}),Object(j.jsx)("button",{id:e.id,type:"button",onClick:A,children:"X"})]},e.id)}))})]})]})};n(73);var M=function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(b,{title:"Activity Creator",link:"Go Home",path:"/home",color:"blue"}),Object(j.jsx)(J,{})]})};n(74);var V=function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(u.a,{exact:!0,path:"/",component:d}),Object(j.jsx)(u.a,{path:"/home",component:P}),Object(j.jsx)(u.a,{path:"/country/:idCountry",component:B}),Object(j.jsx)(u.a,{path:"/create",component:M})]})},H=n(32),W=n(43),X=n(44),q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(F.a)(Object(F.a)({},e),{},{allCountries:t.payload.map((function(e){return{id:e.id,name:e.name,flag:e.flag}})),countries:t.payload,continents:Object(O.a)(new Set(t.payload.map((function(e){return e.continent}))))});case v:return Object(F.a)(Object(F.a)({},e),{},{countries:t.payload});case y:return Object(F.a)(Object(F.a)({},e),{},{country:t.payload});case g:return Object(F.a)(Object(F.a)({},e),{},{country:{}});case N:return Object(F.a)(Object(F.a)({},e),{},{filters:t.payload});case _:return Object(F.a)({},e);case C:return Object(F.a)(Object(F.a)({},e),{},{error:t.payload});case A:return Object(F.a)(Object(F.a)({},e),{},{error:""});default:return Object(F.a)({},e)}},z=Object(H.createStore)(q,Object(W.composeWithDevTools)(Object(H.applyMiddleware)(X.a)));i.a.render(Object(j.jsx)(l.a,{store:z,children:Object(j.jsx)(o.a,{children:Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(V,{})})})}),document.getElementById("root")),s()}},[[75,1,2]]]);
//# sourceMappingURL=main.da725f57.chunk.js.map